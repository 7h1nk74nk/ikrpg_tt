<?xml version="1.0" encoding="iso-8859-1"?>

<!-- 
  Please see the license.html file included with this distribution for 
  attribution and copyright information.
-->

<root>
	<windowclass name="npc_combat_creature">
		<script file="campaign/scripts/campaign_npc_main.lua" />
		<sheetdata>
		

	<!-- STAT BAR -->		
			
			<!-- SPD -->			
			
			<label_npc name="spd_label">
				<bounds>10,1,30,15</bounds>
				<static>SPD</static>
			</label_npc>
			
			<number_npc name="spd">
				<bounds>35,1,15,15</bounds>
			</number_npc>
			
			<!-- STR -->			
			
			<label_npc name="str_label">
				<bounds>55,1,30,15</bounds>
				<static>STR</static>
			</label_npc>
			
			<number_npc name="str">
				<bounds>80,1,15,15</bounds>
			</number_npc>
			
			<!-- MAT -->			
			
			<label_npc name="mat_lable">
				<bounds>100,1,30,15</bounds>
				<static>MAT</static>
			</label_npc>
			
			<number_npc name="mat">
				<bounds>130,1,15,15</bounds>
			</number_npc>
			
			<!-- RAT -->			
			
			<label_npc name="rat_label">
				<bounds>150,1,30,15</bounds>
				<static>RAT</static>
			</label_npc>
			
			<number_npc name="rat">
				<bounds>175,1,15,15</bounds>
			</number_npc>
			
			<!-- DEF -->			
			
			<label_npc name="def_label">
				<bounds>195,1,30,15</bounds>
				<static>DEF</static>
			</label_npc>
			
			<number_npc name="def">
				<bounds>220,1,15,15</bounds>
			</number_npc>
			
			<!-- ARM -->			
			
			<label_npc name="arm_label">
				<bounds>240,1,30,15</bounds>
				<static>ARM</static>
			</label_npc>
			
			<number_npc name="arm">
				<bounds>270,1,15,15</bounds>
			</number_npc>
			
			<!-- WILLPOWER -->			
			
			<label_npc name="willpower_label">
				<bounds>10,20,100,15</bounds>
				<static>WILLPOWER</static>
			</label_npc>
			
			<number_npc name="willpower">
				<bounds>79,20,17,15</bounds>
			</number_npc>

			<!-- INITIATIVE -->			
			
			<label_npc name="init_label">
				<bounds>100,20,100,15</bounds>
				<static>INITIATIVE</static>
			</label_npc>
			
			<number_npc name="init">
				<bounds>158,20,17,15</bounds>
			</number_npc>	

			<!-- DETECT -->			
			
			<label_npc name="detection_label">
				<bounds>180,20,100,15</bounds>
				<static>DETECT</static>
			</label_npc>
			
			<number_npc name="detection">
				<bounds>223,20,17,15</bounds>
			</number_npc>	

			<!-- SNEAK -->			
			
			<label_npc name="sneak_label">
				<bounds>243,20,100,15</bounds>
				<static>SNEAK</static>
			</label_npc>
			
			<number_npc name="sneak">
				<bounds>283,20,17,15</bounds>
			</number_npc>	
			
			<!-- ATTACKS -->				
			
			<button_iconcycler name="npc_attackmelee">
                <anchored>
					<to>willpower_label</to>
					<top><offset>20</offset></top>
					<left><offset>0</offset></left>					
					<size>
						<height>40</height>
                        <width>40</width>
					</size>
				</anchored>                
                <stateframe>
                    <hover>
                        <name>sheetfocus</name>
                        <offset>6,5,6,5</offset>
                        <hidereadonly />
                    </hover>
                </stateframe>
                <parameters>
                    <icons>action_melee</icons>
                    <values>melee</values>   
                    <defaulticon>action_ranged</defaulticon>                    
                </parameters>
            </button_iconcycler>	

			<button_iconcycler name="npc_attackrange">
                <anchored>
					<to>npc_attackmelee</to>
					<top><offset>45</offset></top>
					<left><offset>0</offset></left>					
					<size>
						<height>40</height>
                        <width>40</width>
					</size>
				</anchored>                
                <stateframe>
                    <hover>
                        <name>sheetfocus</name>
                        <offset>6,5,6,5</offset>
                        <hidereadonly />
                    </hover>
                </stateframe>
                <parameters>
                    <icons>action_melee</icons>
                    <values>melee</values>   
                    <defaulticon>action_ranged</defaulticon>                    
                </parameters>
            </button_iconcycler>		
			
			<label_npc name="meleepow_label">
				<bounds>60,45,100,15</bounds>
				<static>POW</static>
			</label_npc>
			
			<number_npc name="meleepow">
				<bounds>63,60,17,15</bounds>
			</number_npc>			
			
			<label_npc name="meleeps_label">
				<bounds>183,45,100,15</bounds>
				<static>P+S</static>
			</label_npc>
			
			<number_npc name="meleeps">
				<bounds>185,60,17,15</bounds>
			</number_npc>	

			<string_npc name="npc_meleedescription">
				<anchored>
					<to>meleeps_label</to>
					<top><offset>7</offset></top>
					<left><offset>38</offset></left>
					<size><width>150</width></size>	
				</anchored>
				<empty>&#171; Description &#187;</empty>
			</string_npc>				

			<label_npc name="rangerng_label">
				<bounds>60,85,100,15</bounds>
				<static>RNG</static>
			</label_npc>
			
			<number_npc name="rangerng">
				<bounds>63,100,17,15</bounds>
			</number_npc>			
			
			<label_npc name="rangerof_label">
				<bounds>100,85,100,15</bounds>
				<static>ROF</static>
			</label_npc>
			
			<number_npc name="rangerof">
				<bounds>102,100,17,15</bounds>
			</number_npc>	

			<label_npc name="rangeaoe_label">
				<bounds>140,85,100,15</bounds>
				<static>AOE</static>
			</label_npc>
			
			<number_npc name="rangeaoe">
				<bounds>143,100,17,15</bounds>
			</number_npc>			
			
			<label_npc name="rangepow_label">
				<bounds>180,85,100,15</bounds>
				<static>POW</static>
			</label_npc>
			
			<number_npc name="rangerpow">
				<bounds>183,100,17,15</bounds>
			</number_npc>				
	
			<string_npc name="npc_rangedescription">
				<anchored>
					<to>rangepow_label</to>
					<top><offset>7</offset></top>
					<left><offset>40</offset></left>
					<size><width>150</width></size>	
				</anchored>
				<empty>&#171; Description &#187;</empty>
			</string_npc>	

			

			<genericcontrol name="spdefanchor">
				<anchored>
					<top>
						<parent>npc_attackrange</parent>
						<anchor>bottom</anchor>
					</top>
					<left />
					<right />
					<size><height>0</height></size>
				</anchored>
				<invisible />
			</genericcontrol>
			
			<genericcontrol name="columnanchor">
				<anchored>
					<top>
						<parent>spdefanchor</parent>
						<anchor>bottom</anchor>
						<relation>relative</relation>
					</top>
					<left />
					<right />
					<size><height>0</height></size>
				</anchored>
				<invisible />
			</genericcontrol>
						
			
			<!-- ABILITIES -->	
			
			<header_npc name="powers_header">
				<frame>
					<name>headernpc</name>
				</frame>
			</header_npc>
			
			<header_npc_text name="powers_label">
				<anchored>
					<to>powers_header</to>
				</anchored>
				<color>FFFFFFFF</color>
				<static>ABILITIES</static>
			</header_npc_text>

			<list_npc_powers name="" />
			
			
			<!-- VITALITY -->	
						
			<header_npc name="vitality_header">
				<frame>
					<name>headernpc</name>
				</frame>
			</header_npc>
			
			<header_npc_text name="vitality_label">
				<anchored>
					<to>vitality_header</to>
				</anchored>
				<color>FFFFFFFF</color>
				<static>VITALITY</static>
			</header_npc_text>
			
			<number_npc name="npc_vitality">
				<anchored>
					<to>vitality_header</to>
					<top><offset>3</offset></top>
					<left><offset>250</offset></left>
					<size><width>20</width></size>			
				</anchored>
				<color>FFFFFFFF</color>
			</number_npc>

			<!-- BASE SIZE -->	
						
			<header_npc name="basesize_header">
				<frame>
					<name>headernpc</name>
				</frame>
			</header_npc>
			
			<header_npc_text name="basesize_label">
				<anchored>
					<to>basesize_header</to>
				</anchored>
				<color>FFFFFFFF</color>
				<static>BASE SIZE</static>
			</header_npc_text>
			
			<string_npc name="npc_basesize">
				<anchored>
					<to>basesize_header</to>
					<top><offset>3</offset></top>
					<left><offset>242</offset></left>
					<size><width>200</width></size>	
				</anchored>
				<color>FFFFFFFF</color>
				<empty>&#171; Size &#187;</empty>
			</string_npc>	
			
			<!-- ENCOUNTER POINTS -->	
						
			<header_npc name="encounterpoints_header">
				<frame>
					<name>headernpc</name>
				</frame>
			</header_npc>
			
			<header_npc_text name="encounterpoints_label">
				<anchored>
					<to>encounterpoints_header</to>
				</anchored>
				<color>FFFFFFFF</color>
				<static>ENCOUNTER POINTS</static>
			</header_npc_text>	

			<number_npc name="npc_encounterpoints">
				<anchored>
					<to>encounterpoints_header</to>
					<top><offset>3</offset></top>
					<left><offset>250</offset></left>
					<size><width>20</width></size>			
				</anchored>
				<color>FFFFFFFF</color>
			</number_npc>	
			
			<!-- ARCANE -->	
						
			<header_npc name="arcane_header">
				<frame>
					<name>headernpc</name>
				</frame>
			</header_npc>
			
			<header_npc_text name="arcane_label">
				<anchored>
					<to>arcane_header</to>
				</anchored>
				<color>FFFFFFFF</color>
				<static>ARCANE</static>
			</header_npc_text>
			
			<number_npc name="npc_arcane">
				<anchored>
					<to>arcane_header</to>
					<top><offset>3</offset></top>
					<left><offset>250</offset></left>
					<size><width>20</width></size>			
				</anchored>
				<color>FFFFFFFF</color>
			</number_npc>			
			
			<!-- SPELLS -->	
						
			<header_npc name="spells_header">
				<frame>
					<name>headernpc</name>
				</frame>
			</header_npc>
			
			<header_npc_text name="spells_label">
				<anchored>
					<to>spells_header</to>
				</anchored>
				<color>FFFFFFFF</color>
				<static>SPELLS</static>
			</header_npc_text>	

			<string_npc name="spells_cost">
				<anchored>
					<to>spells_header</to>
					<top><offset>3</offset></top>
					<left><offset>143</offset></left>
					<size><width>40</width></size>						
				</anchored>
				<color>FFFFFFFF</color>
				<static>COST</static>
			</string_npc>	

			<string_npc name="spells_rng">
				<anchored>
					<to>spells_header</to>
					<top><offset>3</offset></top>
					<left><offset>188</offset></left>
					<size><width>40</width></size>						
				</anchored>
				<color>FFFFFFFF</color>
				<static>RNG</static>
			</string_npc>	
					
			<string_npc name="spells_aoe">
				<anchored>
					<to>spells_header</to>
					<top><offset>3</offset></top>
					<left><offset>228</offset></left>
					<size><width>40</width></size>						
				</anchored>
				<color>FFFFFFFF</color>
				<static>AOE</static>
			</string_npc>	
		
			<string_npc name="spells_pow">
				<anchored>
					<to>spells_header</to>
					<top><offset>3</offset></top>
					<left><offset>268</offset></left>
					<size><width>40</width></size>						
				</anchored>
				<color>FFFFFFFF</color>
				<static>POW</static>
			</string_npc>	
		
			<string_npc name="spells_up">
				<anchored>
					<to>spells_header</to>
					<top><offset>3</offset></top>
					<left><offset>313</offset></left>
					<size><width>40</width></size>						
				</anchored>
				<color>FFFFFFFF</color>
				<static>UP</static>
			</string_npc>	
		
			<string_npc name="spells_off">
				<anchored>
					<to>spells_header</to>
					<top><offset>3</offset></top>
					<left><offset>348</offset></left>
					<size><width>40</width></size>						
				</anchored>
				<color>FFFFFFFF</color>
				<static>OFF</static>
			</string_npc>	
		
		
			<spacer>
				<anchor>columnanchor</anchor>
				<relative />
				<height>3</height>
			</spacer>
			
		</sheetdata>
	</windowclass>

	<windowclass name="npc_combat_template">
		<script file="campaign/scripts/campaign_npc_main.lua" />
		<sheetdata>
			<label_npc name="hp_label">
				<bounds>10,3,15,15</bounds>
				<static>HP</static>
			</label_npc>
			<string_npc name="hp">
				<anchored>
					<top><offset>3</offset></top>
					<left><offset>27</offset></left>
					<right><offset>-90</offset></right>
					<size><height>15</height></size>
				</anchored>
				<empty>&#171; Hit Points &#187;</empty>
			</string_npc>
			
			<label_npc name="init_label">
				<bounds>-75,3,45,15</bounds>
				<static>Initiative</static>
			</label_npc>
			<number_npc_init name="init">
				<bounds>-25,3,17,15</bounds>
			</number_npc_init>
			
			<label_npc name="ac_label">
				<bounds>10,18,15,15</bounds>
				<static>AC</static>
			</label_npc>
			<number_npc name="ac">
				<bounds>27,18,15,15</bounds>
				<displaysign />
			</number_npc>
			<label_npc name="fortitude_label">
				<bounds>45,18,48,15</bounds>
				<static>Fortitude</static>
			</label_npc>
			<number_npc name="fortitude">
				<bounds>96,18,15,15</bounds>
				<displaysign />
			</number_npc>
			<label_npc name="reflex_label">
				<bounds>114,18,32,15</bounds>
				<static>Reflex</static>
			</label_npc>
			<number_npc name="reflex">
				<bounds>149,18,15,15</bounds>
				<displaysign />
			</number_npc>
			<label_npc name="will_label">
				<bounds>167,18,20,15</bounds>
				<static>Will</static>
			</label_npc>
			<number_npc name="will">
				<bounds>190,18,15,15</bounds>
				<displaysign />
			</number_npc>
			
			<label_npc name="perceptionval_label">
				<bounds>-87,18,57,15</bounds>
				<static>Perception</static>
			</label_npc>
			<number_npc_perception name="perceptionval">
				<bounds>-25,18,17,15</bounds>
			</number_npc_perception>
			
			<label_npc name="speed_label">
				<bounds>10,33,32,15</bounds>
				<static>Speed</static>
			</label_npc>
			<string_npc name="speed">
				<anchored>
					<top><offset>33</offset></top>
					<left><offset>45</offset></left>
					<right>
						<anchor>center</anchor>
						<offset>-2</offset>
					</right>
				</anchored>
				<empty>&#171; Speed &#187;</empty>
			</string_npc>
			<string_npc name="senses">
				<anchored>
					<top><offset>33</offset></top>
					<left>
						<anchor>center</anchor>
						<offset>35</offset>
					</left>
					<right><offset>-5</offset></right>
					<size>
						<height>45</height>
					</size>
				</anchored>
				<center />
			</string_npc>
			
			<genericcontrol name="spdefanchor">
				<anchored>
					<top>
						<parent>speed</parent>
						<anchor>bottom</anchor>
					</top>
					<left />
					<right />
					<size><height>0</height></size>
				</anchored>
				<invisible />
			</genericcontrol>

			<string_npc name="specialdefenses">
				<anchored>
					<top>
						<parent>spdefanchor</parent>
						<anchor>bottom</anchor>
						<relation>relative</relation>
					</top>
					<left><offset>10</offset></left>
					<right>
						<parent>senses</parent>
						<anchor>left</anchor>
						<offset>-5</offset>
					</right>
				</anchored>
				<empty>&#171; Special Defenses &#187;</empty>
			</string_npc>
			
			<label_npc name="save_label">
				<anchored>
					<top>
						<parent>spdefanchor</parent>
						<anchor>bottom</anchor>
						<relation>relative</relation>
					</top>
					<left><offset>10</offset></left>
					<size>
						<width>77</width>
						<height>15</height>
					</size>
				</anchored>
				<static>Saving Throws</static>
			</label_npc>
			<number_npc_save name="save">
				<anchored>
					<to>save_label</to>
					<position>righthigh</position>
					<offset>3,0</offset>
					<size>
						<width>17</width>
						<height>15</height>
					</size>
				</anchored>
			</number_npc_save>
			<label_npc name="ap_label">
				<anchored>
					<to>save</to>
					<position>righthigh</position>
					<offset>10,0</offset>
					<size>
						<width>70</width>
						<height>15</height>
					</size>
				</anchored>
				<static>Action Points</static>
			</label_npc>
			<number_npc name="ap">
				<anchored>
					<to>ap_label</to>
					<position>righthigh</position>
					<offset>3,0</offset>
					<size>
						<width>17</width>
						<height>15</height>
					</size>
				</anchored>
			</number_npc>
			
			<genericcontrol name="columnanchor">
				<anchored>
					<top>
						<parent>spdefanchor</parent>
						<anchor>bottom</anchor>
						<relation>relative</relation>
					</top>
					<left />
					<right />
					<size><height>0</height></size>
				</anchored>
				<invisible />
			</genericcontrol>

			<string_column_npc name="weaponproficiency" />
			<label_column_npc name="weaponproficiency_label">
				<anchored>
					<to>weaponproficiency</to>
				</anchored>
				<static>Weapon Prof</static>
			</label_column_npc>

			<string_column_npc name="armorproficiency" />
			<label_column_npc name="armorproficiency_label">
				<anchored>
					<to>armorproficiency</to>
				</anchored>
				<static>Armor Prof</static>
			</label_column_npc>

			<string_column_npc name="trainedskills" />
			<label_column_npc name="trainedskills_label">
				<anchored>
					<to>trainedskills</to>
				</anchored>
				<static>Trained Skills</static>
			</label_column_npc>

			<string_column_npc name="classfeatures" />
			<label_column_npc name="classfeatures_label">
				<anchored>
					<to>classfeatures</to>
				</anchored>
				<static>Class Features</static>
			</label_column_npc>

			<string_column_npc name="implement" />
			<label_column_npc name="implement_label">
				<anchored>
					<to>implement</to>
				</anchored>
				<static>Implement</static>
			</label_column_npc>

			<list_npc_vpowers name="list_vpowers" />
			
			<header_npc name="powers_header">
				<frame>
					<name>headernpc</name>
				</frame>
			</header_npc>
			<header_npc_text name="powers_label">
				<anchored>
					<to>powers_header</to>
				</anchored>
				<color>FFFFFFFF</color>
				<static>Powers</static>
			</header_npc_text>
			<list_npc_powers name="list_powers" />

			<spacer>
				<anchor>columnanchor</anchor>
				<relative />
				<height>3</height>
			</spacer>
		</sheetdata>
	</windowclass>

	<windowclass name="npc_combat_trap">
		<script file="campaign/scripts/campaign_npc_main.lua" />
		<sheetdata>
			<hs name="type">
				<script>
					function onInit()
						onValueChanged();
					end
					
					function onValueChanged()
						if getValue() == "Hazard" then
							window.trapdesc_label.setValue("Hazard:");
							window.trapdesc_label.setAnchoredWidth(40);
						else
							window.trapdesc_label.setValue("Trap:");
							window.trapdesc_label.setAnchoredWidth(27);
						end
					end
				</script>
			</hs>
			
			<genericcontrol name="columnanchor">
				<anchored>
					<top />
					<left />
					<right />
					<size><height>0</height></size>
				</anchored>
				<invisible />
			</genericcontrol>
			
			<string_npc name="flavor">
				<anchored>
					<top>
						<parent>columnanchor</parent>
						<anchor>bottom</anchor>
						<relation>relative</relation>
						<offset>5</offset>
					</top>
					<left><offset>10</offset></left>
					<right><offset>-10</offset></right>
				</anchored>
				<frame>
					<name>campaignrowshade</name>
					<offset>10,3,10,3</offset>
				</frame>
				<font>reference-i</font>
				<empty>&#171; Flavor &#187;</empty>
				<script>
					function onDragStart(button, x, y, draginfo)
						if isReadOnly() then
							draginfo.setType("string");
							draginfo.setStringData(getValue());
							return true;
						end
					end
				</script>
			</string_npc>
			
			<label_npc name="trapdesc_label">
				<anchored>
					<top>
						<parent>flavor</parent>
						<anchor>bottom</anchor>
						<offset>5</offset>
					</top>
					<left><offset>10</offset></left>
					<size>
						<width>27</width>
						<height>15</height>
					</size>
				</anchored>
				<static>Trap:</static>
			</label_npc>
			<string_npc name="trapdesc">
				<anchored>
					<top>
						<parent>columnanchor</parent>
						<anchor>bottom</anchor>
						<relation>relative</relation>
						<offset>5</offset>
					</top>
					<left>
						<parent>trapdesc_label</parent>
						<anchor>right</anchor>
						<offset>5</offset>
					</left>
					<right><offset>-10</offset></right>
				</anchored>
				<empty>&#171; Description &#187;</empty>
			</string_npc>

			<list_npc_trap name="list_skills">
				<datasource>.trapskills</datasource>
				<class>npc_trap_skilllistitem</class>
				<sortby><control>skill</control></sortby>
			</list_npc_trap>
			
			<string_npc name="detect">
				<anchored>
					<top>
						<parent>columnanchor</parent>
						<relation>relative</relation>
						<anchor>bottom</anchor>
						<offset>3</offset>
					</top>
					<left><offset>50</offset></left>
					<right><offset>-10</offset></right>
				</anchored>
			</string_npc>
			<label_npc name="detect_label">
				<anchored>
					<top><parent>detect</parent></top>
					<left><offset>10</offset></left>
					<size>
						<width>35</width>
						<height>15</height>
					</size>
				</anchored>
				<static>Detect</static>
			</label_npc>
			<number_npc_init name="init">
				<anchored>
					<top>
						<parent>columnanchor</parent>
						<relation>relative</relation>
						<anchor>bottom</anchor>
						<offset>3</offset>
					</top>
					<left><offset>60</offset></left>
					<size>
						<width>17</width>
						<height>15</height>
					</size>
				</anchored>
			</number_npc_init>
			<label_npc name="init_label">
				<anchored>
					<top><parent>init</parent></top>
					<left><offset>10</offset></left>
					<size>
						<width>45</width>
						<height>15</height>
					</size>
				</anchored>
				<static>Initiative</static>
			</label_npc>
			<string_npc name="hp">
				<anchored>
					<top>
						<parent>columnanchor</parent>
						<relation>relative</relation>
						<anchor>bottom</anchor>
						<offset>3</offset>
					</top>
					<left><offset>30</offset></left>
					<right><offset>-10</offset></right>
				</anchored>
				<empty>&#171; Hit Points &#187;</empty>
			</string_npc>
			<label_npc name="hp_label">
				<anchored>
					<top><parent>hp</parent></top>
					<left><offset>10</offset></left>
					<size>
						<width>15</width>
						<height>15</height>
					</size>
				</anchored>
				<static>HP</static>
			</label_npc>
			
			<label_npc name="ac_label">
				<anchored>
					<top>
						<parent>columnanchor</parent>
						<relation>relative</relation>
						<anchor>bottom</anchor>
						<offset>3</offset>
					</top>
					<left><offset>10</offset></left>
					<size>
						<width>15</width>
						<height>15</height>
					</size>
				</anchored>
				<static>AC</static>
			</label_npc>
			<number_npc name="ac">
				<anchored>
					<top>
						<parent>ac_label</parent>
					</top>
					<left><offset>27</offset></left>
					<size>
						<width>15</width>
						<height>15</height>
					</size>
				</anchored>
			</number_npc>
			<label_npc name="fortitude_label">
				<anchored>
					<top>
						<parent>ac_label</parent>
					</top>
					<left><offset>45</offset></left>
					<size>
						<width>48</width>
						<height>15</height>
					</size>
				</anchored>
				<static>Fortitude</static>
			</label_npc>
			<number_npc name="fortitude">
				<anchored>
					<top>
						<parent>ac_label</parent>
					</top>
					<left><offset>96</offset></left>
					<size>
						<width>15</width>
						<height>15</height>
					</size>
				</anchored>
			</number_npc>
			<label_npc name="reflex_label">
				<anchored>
					<top>
						<parent>ac_label</parent>
					</top>
					<left><offset>114</offset></left>
					<size>
						<width>32</width>
						<height>15</height>
					</size>
				</anchored>
				<static>Reflex</static>
			</label_npc>
			<number_npc name="reflex">
				<anchored>
					<top>
						<parent>ac_label</parent>
					</top>
					<left><offset>149</offset></left>
					<size>
						<width>15</width>
						<height>15</height>
					</size>
				</anchored>
			</number_npc>

			<string_npc name="specialdefenses">
				<anchored>
					<top>
						<parent>columnanchor</parent>
						<relation>relative</relation>
						<anchor>bottom</anchor>
						<offset>3</offset>
					</top>
					<left><offset>10</offset></left>
					<right><offset>-10</offset></right>
				</anchored>
				<empty>&#171; Special Defenses &#187;</empty>
			</string_npc>
			
			<string_npc name="speed">
				<anchored>
					<top>
						<parent>columnanchor</parent>
						<relation>relative</relation>
						<anchor>bottom</anchor>
						<offset>3</offset>
					</top>
					<left><offset>45</offset></left>
					<right><offset>-10</offset></right>
				</anchored>
				<empty>&#171; Speed &#187;</empty>
			</string_npc>
			<label_npc name="speed_label">
				<anchored>
					<top><parent>speed</parent></top>
					<left><offset>10</offset></left>
					<size>
						<width>35</width>
						<height>15</height>
					</size>
				</anchored>
				<static>Speed</static>
			</label_npc>
			
			<list_npc_vpowers name="list_vpowers" />

			<header_npc name="powers_header">
				<frame>
					<name>headernpc</name>
				</frame>
			</header_npc>
			<header_npc_text name="powers_label">
				<anchored>
					<to>powers_header</to>
				</anchored>
				<color>FFFFFFFF</color>
				<static>Powers</static>
			</header_npc_text>
			<list_npc_powers name="list_powers" />

			<header_npc name="countermeasures_header" />
			<header_npc_text name="countermeasures_label">
				<anchored>
					<to>countermeasures_header</to>
				</anchored>
				<static>Countermeasures</static>
			</header_npc_text>
			<list_npc_trap name="list_countermeasures">
				<datasource>.countermeasures</datasource>
				<class>npc_trap_listitem</class>
			</list_npc_trap>

			<spacer>
				<anchor>columnanchor</anchor>
				<relative />
				<height>3</height>
			</spacer>
		</sheetdata>
	</windowclass>

	<windowclass name="npc_combat_vehicle">
		<script file="campaign/scripts/campaign_npc_main.lua" />
		<sheetdata>
			<label_npc name="hp_label">
				<bounds>10,3,15,15</bounds>
				<static>HP</static>
			</label_npc>
			<string_npc name="hp">
				<anchored>
					<top><offset>3</offset></top>
					<left><offset>27</offset></left>
					<size>
						<width>35</width>
						<height>15</height>
					</size>
				</anchored>
				<empty>&#171; HP &#187;</empty>
			</string_npc>
			
			<label_npc name="space_label">
				<bounds>65,3,35,15</bounds>
				<static>Space</static>
			</label_npc>
			<string_npc name="space">
				<anchored>
					<top><offset>3</offset></top>
					<left><offset>102</offset></left>
					<size>
						<width>150</width>
						<height>15</height>
					</size>
				</anchored>
				<empty>&#171; Space &#187;</empty>
			</string_npc>
			
			<label_npc name="cost_label">
				<bounds>255,3,45,15</bounds>
				<static>Cost (gp)</static>
			</label_npc>
			<string_npc name="cost">
				<anchored>
					<top><offset>3</offset></top>
					<left><offset>302</offset></left>
					<right><offset>-10</offset></right>
					<size>
						<height>15</height>
					</size>
				</anchored>
				<empty>&#171; Cost &#187;</empty>
			</string_npc>
			
			<label_npc name="ac_label">
				<bounds>10,18,15,15</bounds>
				<static>AC</static>
			</label_npc>
			<number_npc name="ac">
				<bounds>27,18,15,15</bounds>
			</number_npc>
			<label_npc name="fortitude_label">
				<bounds>45,18,48,15</bounds>
				<static>Fortitude</static>
			</label_npc>
			<number_npc name="fortitude">
				<bounds>96,18,15,15</bounds>
			</number_npc>
			<label_npc name="reflex_label">
				<bounds>114,18,32,15</bounds>
				<static>Reflex</static>
			</label_npc>
			<number_npc name="reflex">
				<bounds>149,18,15,15</bounds>
			</number_npc>
			
			<label_npc name="speed_label">
				<bounds>10,33,32,15</bounds>
				<static>Speed</static>
			</label_npc>
			<string_npc name="speed">
				<anchored>
					<top><offset>33</offset></top>
					<left><offset>45</offset></left>
					<right><offset>-10</offset></right>
					<size>
						<height>15</height>
					</size>
				</anchored>
				<empty>&#171; Speed &#187;</empty>
			</string_npc>
			
			<genericcontrol name="columnanchor">
				<anchored>
					<top>
						<parent>speed</parent>
						<anchor>bottom</anchor>
					</top>
					<left />
					<right />
					<size><height>0</height></size>
				</anchored>
				<invisible />
			</genericcontrol>
			
			<list_npc_vpowers name="list_vpowers" />

			<header_npc name="powers_header">
				<frame>
					<name>headernpc</name>
				</frame>
			</header_npc>
			<header_npc_text name="powers_label">
				<anchored>
					<to>powers_header</to>
				</anchored>
				<color>FFFFFFFF</color>
				<static>Powers</static>
			</header_npc_text>
			<list_npc_powers name="list_powers" />

			<spacer>
				<anchor>columnanchor</anchor>
				<relative />
				<height>3</height>
			</spacer>
		</sheetdata>
	</windowclass>

	<windowclass name="npc_trap_listitem">
		<sizelimits>
			<minimum>
				<height>15</height>
			</minimum>
		</sizelimits>
		<script>
			function update()
				local bLock = windowlist.isReadOnly();
				
				text.setReadOnly(bLock);

				local bReturn = true;
				if bLock then
					local sText = text.getValue();
					bReturn = (sText ~= "");
				end
				return bReturn;
			end
			
			function onFilter()
				local bLock = windowlist.isReadOnly();
				if bLock then
					return (text.getValue() ~= "");
				end
				return true;
			end
		</script>
		<sheetdata>
			<label_npc>
				<bounds>20,3,10,15</bounds>
				<color>ff391112</color>
				<static>&#149;</static>
			</label_npc>
			<string_npc name="text">
				<anchored>
					<top><offset>3</offset></top>
					<left><offset>30</offset></left>
					<right><offset>-10</offset></right>
				</anchored>
				<empty>&#171; Text &#187;</empty>
			</string_npc>
			<spacer>
				<anchor>text</anchor>
				<height>2</height>
			</spacer>
		</sheetdata>
	</windowclass>

	<windowclass name="npc_trap_skilldclistitem">
		<sizelimits>
			<minimum>
				<height>15</height>
			</minimum>
		</sizelimits>
		<script>
			function update()
				local bLock = windowlist.isReadOnly();
				
				local nDC = dc.getValue();
				local sText = text.getValue();
				
				local bShowDC = true;
				if bLock and (nDC == 0) then
					bShowDC = false;
				end
				
				dc_label.setVisible(bShowDC);
				dc.setVisible(bShowDC);
				colon_label.setVisible(bShowDC);
				
				dc.setReadOnly(bLock);
				text.setReadOnly(bLock);
				
				local bReturn = true;
				if bLock then
					bReturn = (nDC ~= 0) or (sText ~= "");
				end
				return bReturn;
			end
			
			function onFilter()
				local bLock = windowlist.isReadOnly();
				if bLock then
					return (dc.getValue() ~= 0) or (text.getValue() ~= "");
				end
				
				return true;
			end
		</script>
		<sheetdata>
			<genericcontrol name="leftanchor">
				<bounds>20,3,0,0</bounds>
			</genericcontrol>
			
			<label_npc name="diamond_label">
				<anchored>
					<to>leftanchor</to>
					<top />
					<left>
						<anchor>right</anchor>
						<relation>relative</relation>
					</left>
					<size>
						<width>10</width>
						<height>15</height>
					</size>
				</anchored>
				<color>ff391112</color>
				<static>&#149;</static>
			</label_npc>
			<label_npc name="dc_label">
				<anchored>
					<to>leftanchor</to>
					<top />
					<left>
						<anchor>right</anchor>
						<relation>relative</relation>
					</left>
					<size>
						<width>15</width>
						<height>15</height>
					</size>
				</anchored>
				<font>reference-r</font>
				<static>DC</static>
			</label_npc>
			<number_npc name="dc">
				<anchored>
					<to>leftanchor</to>
					<top />
					<left>
						<anchor>right</anchor>
						<relation>relative</relation>
						<offset>-1</offset>
					</left>
					<size>
						<width>20</width>
						<height>15</height>
					</size>
				</anchored>
			</number_npc>
			<label_npc name="colon_label">
				<anchored>
					<to>leftanchor</to>
					<top />
					<left>
						<anchor>right</anchor>
						<relation>relative</relation>
						<offset>-1</offset>
					</left>
					<size>
						<width>5</width>
						<height>15</height>
					</size>
				</anchored>
				<static>:</static>
			</label_npc>
			<string_npc name="text">
				<anchored>
					<top>
						<parent>leftanchor</parent>
					</top>
					<left>
						<parent>leftanchor</parent>
						<anchor>right</anchor>
						<relation>relative</relation>
					</left>
					<right><offset>-10</offset></right>
				</anchored>
				<empty>&#171; Text &#187;</empty>
			</string_npc>
			
			<spacer>
				<anchor>text</anchor>
				<height>2</height>
			</spacer>
		</sheetdata>
	</windowclass>
	
	<windowclass name="npc_trap_skilllistitem">
		<sizelimits>
			<minimum>
				<height>15</height>
			</minimum>
		</sizelimits>
		<script>
			function update()
				local bLock = windowlist.isReadOnly();
				
				name.setReadOnly(bLock);
				local sSkill = name.getValue();
				local bLabel = (sSkill ~= "");
				
				list_skilldc.setReadOnly(bLock);
				list_skilldc.update();
				local bList = list_skilldc.isVisible();
				
				if bLock then
					return (bLabel or bList);
				end
				return true;
			end
			
			function onFilter()
				local bLock = windowlist.isReadOnly();
				if bLock then
					local bLabel = (name.getValue() ~= "");
					local bList = list_skilldc.isVisible();
					return (bLabel or bList);
				end
				
				return true;
			end
		</script>
		<sheetdata>
			<genericcontrol name="columnanchor">
				<anchored>
					<top />
					<left />
					<right />
					<size><height>1</height></size>
				</anchored>
				<invisible />
			</genericcontrol>
			
			<header_npc name="header" />
			<string_npc name="name">
				<anchored>
					<to>header</to>
					<top><offset>3</offset></top>
					<left><offset>10</offset></left>
					<right><offset>-20</offset></right>
					<size><height>15</height></size>
				</anchored>
				<empty>&#171; Skill &#187;</empty>
				<font>reference-b</font>
			</string_npc>
			<list_npc_trap name="list_skilldc">
				<datasource>.nodes</datasource>
				<class>npc_trap_skilldclistitem</class>
				<sortby><control>dc</control></sortby>
			</list_npc_trap>
		</sheetdata>
	</windowclass>
</root>